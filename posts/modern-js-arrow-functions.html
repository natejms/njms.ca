<!DOCTYPE html>
<html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>njms - Modern JS concepts: Arrow functions, the new and improved function literals</title>

      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="../assets/css/styles.css">

    </head>
    <body>
    <div>
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-3 col-sm-3 sidebar">
  <h2>njms</h2>
  <div class="links">
    <a href="../home/index.html">home</a>
    <a href="https://github.com/natejms">github</a>
  </div>

  
    <div class="sidebar-post">
      <h4><a href="../posts/the-dark-web-could-be-a-really-great-place.html">The dark web could be a really great place.</a></h4>
      <h6>2018-09-09 12:00:00 +0100</h6>
    </div>
  
    <div class="sidebar-post">
      <h4><a href="../posts/closures-in-programming.html">Closures in programming: What are they and how do they work?</a></h4>
      <h6>2017-12-28 12:00:00 +0100</h6>
    </div>
  
    <div class="sidebar-post">
      <h4><a href="../posts/modern-js-arrow-functions.html">Modern JS concepts: Arrow functions, the new and improved function literals</a></h4>
      <h6>2017-12-28 12:00:00 +0100</h6>
    </div>
  
</div>

        </div>
        <div class="row">
          <div class="col-md-3 col-sm-3"></div>
            <div class="col-md-9 col-sm-9 main">
              <div class="main-content">
              <div class="post">
                <h1 class="post-title">Modern JS concepts: Arrow functions, the new and improved function literals</h1>
                <h2><small>2017-12-28 12:00:00 +0100</small></h2>
                <hr>
                <p>
                  <figure>
                    <img src="../assets/img/post-thumbnails/modern-js-arrow-functions.png">
                    <figcaption>
                      An object demonstrating a use case for arrow functions
                    </figcaption>
                  </figure>
                  <br>
                  <p>In the past, we would see a lot of this:</p>
<pre><code class="language-javascript">someFunction(param, function() {
  // do something
});
</code></pre>
<p>Now, this gets a little bit cumbersome after a while. Not only are function expressions long, they include a kitchen sink of features that you probably won't need in all cases, like the <code>this</code> or a <code>new</code> constructor.</p>
<p>Thankfully, in EMCAScript 6, we got this whole new and improved arrow function. Let's take a look.<span data-separator></span></p>
<h2>Syntax</h2>
<p>The declaration of an arrow function goes like this:</p>
<pre><code>(param1, param2 ... paramN) =&gt; expression
</code></pre>
<p>Arrow functions may remind you of the lambda or anonymous function syntax used various other programming languages like Haskell:</p>
<pre><code class="language-javascript">someFunction(param, () =&gt; {
  // do something
});
</code></pre>
<p>As you can see, they're defined with the parameters wrapped in brackets, followed by an <code>=&gt;</code> arrow and an expression. If your arrow function doesn't need any parameters, you can just use two empty brackets as I did above. Here's another example:</p>
<pre><code class="language-javascript">var array = [1, 2, 3, 4];
var increment = 2;

var incremented = array.map(item =&gt; item + increment); // [3, 4, 5, 6]
</code></pre>
<p>When writing arrow functions like this (without using <code>{}</code> curly braces), you don't even need to use the <code>return</code> keyword, similar to how you would return a value in a language like Rust. It's implied that, since there's only one expression that needs to be evaluated, it should be returned.</p>
<p>In that example, we didn't use brackets around the argument <code>param</code>. When you only have one parameter, brackets are optional.</p>
<h2>Advantages</h2>
<p>One of the things that makes arrow functions so useful is that they don't have their own <code>this</code> object. Consider the following:</p>
<pre><code class="language-javascript">var object = {
  values: [2, 4, 6, 8],
  multiplyBy: 7,
  multiply() { // ES6 also let's us write functions in objects like this
    return this.values.map(function (value) {
      return value * this.multiplyBy;
    })
  }
}
</code></pre>
<p>However, if we try to run this, we'll get an <code>Array [ NaN, NaN, NaN, NaN ]</code> value. Why, you ask? Try taking a closer look at that anonymous function.</p>
<p>As I explained in <a href="https://steemit.com/programming/@njms/closures-in-programming-what-are-they-and-how-do-they-work">my article on closures</a>, Every nested function takes on the <em>lexical scope</em> of the function it's nested in. In other words, all values made available in the outer function exist in the inner function. For this reason, we might expect that the <code>this</code> object should be available as well. However, the anonymous function you're working in already has it's own <code>this</code> which takes superiority.</p>
<p>Though we might have access to <code>multiplyBy</code> in the outer function, getting to it within the inner function is a bit more difficult. Before ES6, people often used this hack:</p>
<pre><code class="language-javascript">var self = this;

return this.values.map(function (value) {
  return value * self.multiplyBy;
})
</code></pre>
<p>Sure, this works, but it's a bit of a compromise. Thankfully, arrow functions solve this issue beautifully.</p>
<pre><code class="language-javascript">var object = {
  values: [2, 4, 6, 8],
  multiplyBy: 7,
  multiply() {
    return this.values.map(value =&gt; value * this.multiplyBy);
  }
}
</code></pre>
<p>Since arrow functions don't have <code>this</code>, no referencing is required to access the <code>multiplyBy</code> value.</p>
<p>Perfect.</p>
<h2>Another (practical) use case</h2>
<p>Let's take a look at this function I wrote to simplify the process of querying an API with an AJAX call using jQuery:</p>
<pre><code class="language-javascript">function queryAPI(query, datatype, callback) {
  return $.ajax({
    url: query,
    dataType: datatype,
    success: callback.success,
    error: callback.error
  });
}
</code></pre>
<p>The function takes three parameters: the complete URL, the data type and a success and error callback wrapped in an object. We can call this function like so:</p>
<pre><code class="language-javascript">queryAPI(&quot;https://api.example.com/some/query&quot;, &quot;json&quot;, {
  success: function(data) {
    element.innerHTML = data;
  },
  error: function(error) {
    element.innerHTML = error;
  }
})
</code></pre>
<p>Now that we know more about arrow functions, things would look a lot nicer written like this:</p>
<pre><code class="language-javascript">queryAPI(&quot;https://api.example.com/some/query&quot;, &quot;json&quot;, {
  success: data =&gt; element.innerHTML = data,
  error: error =&gt; element.innerHTML = error
})
</code></pre>
<p>EMCAScript 6 is full of great features. Sure, many of them might not be supported natively in all browsers yet, but that doesn't mean it's too early to start!</p>
<h2>Further reading</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">Arrow functions - JavaScript | MDN</a></li>
<li><a href="https://hacks.mozilla.org/2015/06/es6-in-depth-arrow-functions/">ES6 In Depth: Arrow functions</a></li>
<li><a href="https://stackoverflow.com/questions/34361379/arrow-function-vs-function-declaration-expressions-are-they-equivalent-exch">Arrow function vs function declaration / expressions: Are they equivalent / exchangeable? - Stack Overflow</a></li>
</ul>
<p><em>Agree or disagree? Think I missed or poorly explained something important? Questions, comments or concerns? Leave a comment down below!</em></p>

                </p>
              </div>
            </div>
            <footer>
  <p>
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img src="https://i.creativecommons.org/l/by/4.0/88x31.png"
           alt="Creative Commons License"
           style="border-width:0"/>
    </a><br />
    &#169; 2018 njms.ca<br>Unless otherwise noted, content is licensed under a
    <a href="http://creativecommons.org/licenses/by/4.0/"
       rel="license">
      Creative Commons Attribution 4.0 International License
    </a>.
  </p>

  <ul class="visible-xs">
    <li><a href="https://mastodon.club/@natejms">mastodon</a></li>
    <li><a href="http://github.com/natejms">github</a></li>
  </ul>
</footer>

          </div>
        </div>
      </div>
    </div>
  </body>
</html>
